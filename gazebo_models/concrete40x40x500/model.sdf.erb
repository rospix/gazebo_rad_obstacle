<?xml version="1.0" ?>

<%

material = "concrete"

depth = 0.4
width = 0.4
height = 5.0

depth_cm = depth*100
width_cm = width*100
height_cm = height*100

vertical_offset = height/2

density = 2.3
mac60kev = 2.66E-01
mac600kev = 6.236E-02

%>

<sdf version="1.5">
<%= "<model name='" + material + depth_cm.to_s[0..-3] + 'x' + width_cm.to_s[0..-3] + 'x' + height_cm.to_s[0..-3] + "'>" %>
      <static>1</static>
      <link name="link">
        <pose>0 0 <%= vertical_offset %> 0 0 0</pose>

        <visual name="visual">
          <geometry>
            <box>
              <size><%= depth %> <%= width %> <%= height %></size>
            </box>
          </geometry>
          <material>
            <script>
              <%= "<uri>model://" + material + depth_cm.to_s[0..-3] + 'x' + width_cm.to_s[0..-3] + 'x' + height_cm.to_s[0..-3] + "/materials/scripts</uri>" %>
              <%= "<uri>model://" + material + depth_cm.to_s[0..-3] + 'x' + width_cm.to_s[0..-3] + 'x' + height_cm.to_s[0..-3] + "/materials/textures/</uri>" %>
              <%= "<name>" + material + "/Image</name>" %>
            </script>
          </material>
        </visual>

      </link>

      <%= "<plugin name='" + material + "' filename='libgazebo_rad_obstacle.so'>" %>
        <depth><%= depth %></depth> <!-- m -->
        <width><%= width %></width> <!-- m -->
        <height><%= height %></height> <!-- m -->
        <material><%= material %></material> <!-- m -->
        <density><%= density %></density> <!-- g/cm^3 -->
        <mac60kev><%= mac60kev %></mac60kev> <!-- cm^2/g -->
        <mac600kev><%= mac600kev %></mac600kev> <!-- cm^2/g -->
      </plugin>

    </model>
  </sdf>
